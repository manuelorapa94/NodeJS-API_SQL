"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _token = require("./token");
// s2.2.7.14

function orderParser(parser, _options, callback) {
  parser.readUInt16LE(length => {
    const columnCount = length / 2;
    const orderColumns = [];
    let i = 0;
    function next(done) {
      if (i === columnCount) {
        return done();
      }
      parser.readUInt16LE(column => {
        orderColumns.push(column);
        i++;
        next(done);
      });
    }
    next(() => {
      callback(new _token.OrderToken(orderColumns));
    });
  });
}
var _default = orderParser;
exports.default = _default;
module.exports = orderParser;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJyZXF1aXJlIiwib3JkZXJQYXJzZXIiLCJwYXJzZXIiLCJfb3B0aW9ucyIsImNhbGxiYWNrIiwicmVhZFVJbnQxNkxFIiwibGVuZ3RoIiwiY29sdW1uQ291bnQiLCJvcmRlckNvbHVtbnMiLCJpIiwibmV4dCIsImRvbmUiLCJjb2x1bW4iLCJwdXNoIiwiT3JkZXJUb2tlbiIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiLCJtb2R1bGUiXSwic291cmNlcyI6WyIuLi8uLi9zcmMvdG9rZW4vb3JkZXItdG9rZW4tcGFyc2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHMyLjIuNy4xNFxuaW1wb3J0IFBhcnNlciwgeyBQYXJzZXJPcHRpb25zIH0gZnJvbSAnLi9zdHJlYW0tcGFyc2VyJztcblxuaW1wb3J0IHsgT3JkZXJUb2tlbiB9IGZyb20gJy4vdG9rZW4nO1xuXG5mdW5jdGlvbiBvcmRlclBhcnNlcihwYXJzZXI6IFBhcnNlciwgX29wdGlvbnM6IFBhcnNlck9wdGlvbnMsIGNhbGxiYWNrOiAodG9rZW46IE9yZGVyVG9rZW4pID0+IHZvaWQpIHtcbiAgcGFyc2VyLnJlYWRVSW50MTZMRSgobGVuZ3RoKSA9PiB7XG4gICAgY29uc3QgY29sdW1uQ291bnQgPSBsZW5ndGggLyAyO1xuICAgIGNvbnN0IG9yZGVyQ29sdW1uczogbnVtYmVyW10gPSBbXTtcblxuICAgIGxldCBpID0gMDtcbiAgICBmdW5jdGlvbiBuZXh0KGRvbmU6ICgpID0+IHZvaWQpIHtcbiAgICAgIGlmIChpID09PSBjb2x1bW5Db3VudCkge1xuICAgICAgICByZXR1cm4gZG9uZSgpO1xuICAgICAgfVxuXG4gICAgICBwYXJzZXIucmVhZFVJbnQxNkxFKChjb2x1bW4pID0+IHtcbiAgICAgICAgb3JkZXJDb2x1bW5zLnB1c2goY29sdW1uKTtcblxuICAgICAgICBpKys7XG5cbiAgICAgICAgbmV4dChkb25lKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIG5leHQoKCkgPT4ge1xuICAgICAgY2FsbGJhY2sobmV3IE9yZGVyVG9rZW4ob3JkZXJDb2x1bW5zKSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBvcmRlclBhcnNlcjtcbm1vZHVsZS5leHBvcnRzID0gb3JkZXJQYXJzZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUdBLElBQUFBLE1BQUEsR0FBQUMsT0FBQTtBQUhBOztBQUtBLFNBQVNDLFdBQVdBLENBQUNDLE1BQWMsRUFBRUMsUUFBdUIsRUFBRUMsUUFBcUMsRUFBRTtFQUNuR0YsTUFBTSxDQUFDRyxZQUFZLENBQUVDLE1BQU0sSUFBSztJQUM5QixNQUFNQyxXQUFXLEdBQUdELE1BQU0sR0FBRyxDQUFDO0lBQzlCLE1BQU1FLFlBQXNCLEdBQUcsRUFBRTtJQUVqQyxJQUFJQyxDQUFDLEdBQUcsQ0FBQztJQUNULFNBQVNDLElBQUlBLENBQUNDLElBQWdCLEVBQUU7TUFDOUIsSUFBSUYsQ0FBQyxLQUFLRixXQUFXLEVBQUU7UUFDckIsT0FBT0ksSUFBSSxDQUFDLENBQUM7TUFDZjtNQUVBVCxNQUFNLENBQUNHLFlBQVksQ0FBRU8sTUFBTSxJQUFLO1FBQzlCSixZQUFZLENBQUNLLElBQUksQ0FBQ0QsTUFBTSxDQUFDO1FBRXpCSCxDQUFDLEVBQUU7UUFFSEMsSUFBSSxDQUFDQyxJQUFJLENBQUM7TUFDWixDQUFDLENBQUM7SUFDSjtJQUVBRCxJQUFJLENBQUMsTUFBTTtNQUNUTixRQUFRLENBQUMsSUFBSVUsaUJBQVUsQ0FBQ04sWUFBWSxDQUFDLENBQUM7SUFDeEMsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0o7QUFBQyxJQUFBTyxRQUFBLEdBRWNkLFdBQVc7QUFBQWUsT0FBQSxDQUFBQyxPQUFBLEdBQUFGLFFBQUE7QUFDMUJHLE1BQU0sQ0FBQ0YsT0FBTyxHQUFHZixXQUFXIn0=